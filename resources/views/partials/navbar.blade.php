<div id="navbarVacuum"></div>
<nav id="navbar" class="navbar navbar-expand-lg navbar-light">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between w-100">
            <!-- Toggle button on the left -->
            <button class="navbar-toggler navbar-order" type="button" id="navbarToggle">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand navbar-order d-flex align-items-center justify-content-center mr-0 ml-auto" href="/">
                <img src="/store/1/dark-logo.png" alt="site logo" style="height: 40px; width: auto; object-fit: contain;">
            </a>

            <div class="mx-lg-30 d-none d-lg-flex flex-grow-1 navbar-toggle-content" id="navbarContent">
                <div class="navbar-toggle-header text-right d-lg-none">
                    <button class="btn-transparent" id="navbarClose">
                        <i data-feather="x" width="32" height="32"></i>
                    </button>
                </div>

                <ul class="navbar-nav mr-auto d-flex align-items-center">
                    <li class="mr-lg-25">
                        <div class="menu-category">
                            <ul>
                                <li class="cursor-pointer user-select-none d-flex xs-categories-toggle">
                                    <i data-feather="grid" width="20" height="20" class="mr-10 d-none d-lg-block"></i> Categories

                                    <ul class="cat-dropdown-menu">
                                        <li>
                                            <a href="/categories/sample-category" class="">
                                                <div class="d-flex align-items-center">
                                                    <img src="/store/1/default_images/categories_icons/anchor.png" class="cat-dropdown-menu-icon mr-10" alt="Sample Category icon"> Sample Category
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/diplomaproggrammes" class="">
                                                <div class="d-flex align-items-center">
                                                    DIPLOMA PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/diplomaexecutive" class="">
                                                <div class="d-flex align-items-center">
                                                    DIPLOMA EXECUTIVE PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/diplomaavidcollege" class="">
                                                <div class="d-flex align-items-center">
                                                    DIPLOMA AVID COLLEGE PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/diplomatvet" class="">
                                                <div class="d-flex align-items-center">
                                                    DIPLOMA JPK-TVET PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/professionalproggrames" class="">
                                                <div class="d-flex align-items-center">
                                                    PROFESSIONAL PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/BACHELOR-DEGREE-S-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    BACHELOR DEGREE'S PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/BACHELOR-S-EXECUTIVE-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    BACHELOR'S EXECUTIVE PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/BACHELOR-S-AVID-COLLEGE-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    BACHELOR'S AVID COLLEGE PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/MASTER-S-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    MASTER'S PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/MASTER-S-EXECUTIVE-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    MASTER'S EXECUTIVE PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/MASTER-S-AVID-COLLEGE-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    MASTER'S AVID COLLEGE PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/INDUSTRY-DOCTORATE-S-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    INDUSTRY DOCTORATE'S PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/categories/DOCTORATE-S-PROGRAMMES" class="">
                                                <div class="d-flex align-items-center">
                                                    DOCTORATE'S PROGRAMMES
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/announcements">Announcements</a>
                    </li>
                </ul>
            </div>
            
            <div class="nav-icons-or-start-live navbar-order d-flex align-items-center justify-content-end" style="display: flex !important;">
                <div class="d-flex align-items-center mr-3" style="display: flex !important;">
                    <a href="/login" class="nav-link font-weight-bold" style="display: inline-block !important; visibility: visible !important; text-decoration: none !important; padding: 0.5rem 1rem !important; color: #1a365d !important;">LOGIN</a>
                </div>
            </div>

        </div>
    </div>
</nav>
<style>
/* Homepage-inspired light style (based on Olympia University Online Campus) */
#navbar {
    background: #eaf3ff !important; /* very light blue */
    border-bottom: 1px solid rgba(0,0,0,.04) !important;
    backdrop-filter: saturate(120%) blur(2px);
}

/* Brand and links color to a soft navy */
#navbar .navbar-brand,
#navbar .nav-link { color: #1a365d !important; }

/* Categories pill (light, subtle shadow) */
#navbar .menu-category > ul > li {
    background: #f4f7ff !important;
    border-radius: 14px !important;
    padding: .6rem 1rem !important;
    box-shadow: 0 8px 18px rgba(26,54,93,.08) !important;
}

/* Dropdown light card */
#navbar .cat-dropdown-menu {
    background: #ffffff !important;
    border: 1px solid rgba(26,54,93,.06) !important;
    border-radius: 12px !important;
    box-shadow: 0 14px 40px rgba(26,54,93,.10) !important;
}

/* Remove hover/focus background box */
#navbar .nav-link:hover,
#navbar .nav-link:focus {
    background: transparent !important;
    box-shadow: none !important;
    outline: none !important;
}

/* Gradient underline on nav links (more visible) */
#navbar .nav-link { position: relative; display: inline-block; padding-bottom: .8rem !important; }
#navbar .nav-link::after {
    content: ""; position: absolute; left: 0; right: 0; bottom: .2rem; height: 4px;
    background: linear-gradient(90deg, rgba(59,130,246,0.6), rgba(147,197,253,0.5)); /* lighter blue gradient */
    border-radius: 999px; box-shadow: 0 2px 6px rgba(59,130,246,0.25);
    transform: scaleX(0); transform-origin: left; transition: transform .25s ease;
}
#navbar .nav-link:hover::after, #navbar .nav-link:focus::after, #navbar .nav-link.active::after { transform: scaleX(1); }

/* Mobile Responsive Fixes */
@media (max-width: 991.98px) {
    #navbar {
        padding: 0.5rem 0 !important;
    }
    
    #navbar .container {
        padding-left: 1rem !important;
        padding-right: 1rem !important;
    }
    
    #navbar .d-flex {
        flex-wrap: nowrap !important;
    }
    
    /* Toggle button - ALWAYS VISIBLE ON MOBILE, ON THE LEFT */
    #navbar .navbar-toggler {
        padding: 0.25rem 0.5rem !important;
        font-size: 1rem !important;
        margin-right: 0.5rem !important;
        order: 1 !important;
        border: 1px solid rgba(26,54,93,0.15) !important;
        border-radius: 6px !important;
        z-index: 1051 !important;
        position: relative !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        background: white !important;
    }
    
    /* Hide toggle button on desktop */
    @media (min-width: 992px) {
        #navbar .navbar-toggler {
            display: none !important;
        }
    }
    
    /* Logo adjustments - ALWAYS VISIBLE */
    #navbar .navbar-brand {
        margin-right: 0.5rem !important;
        margin-left: auto !important;
        flex-shrink: 0 !important;
        z-index: 1051 !important;
        position: relative !important;
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        order: 2 !important;
    }
    
    #navbar .navbar-brand img {
        height: 35px !important;
        max-width: 150px !important;
    }
    
    /* Login button adjustments - ALWAYS VISIBLE */
    #navbar .nav-icons-or-start-live {
        margin-left: 0.5rem !important;
        order: 3 !important;
        flex-shrink: 0 !important;
        z-index: 1051 !important;
        position: relative !important;
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    #navbar .nav-icons-or-start-live .nav-link {
        padding: 0.4rem 0.8rem !important;
        font-size: 0.85rem !important;
        white-space: nowrap !important;
    }
    
    /* Hide gradient underline on mobile nav links */
    #navbar .nav-link::after {
        display: none !important;
    }
    
    /* Mobile menu overlay - show when toggled - FULL SCREEN COVERAGE */
    #navbarContent {
        position: fixed !important;
        inset: 0 !important; /* Shorthand for top:0, right:0, bottom:0, left:0 */
        width: 100vw !important;
        height: 100vh !important;
        min-height: 100vh !important;
        max-width: 100vw !important;
        background: rgba(26,54,93,0.95) !important;
        z-index: 1049 !important;
        padding: 2rem 1.5rem !important;
        padding-top: 80px !important; /* Space for navbar */
        margin: 0 !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        -webkit-overflow-scrolling: touch !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        justify-content: flex-start !important;
        transform: translateX(-100%) !important;
        transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease !important;
        visibility: hidden !important;
        opacity: 0 !important;
        display: none !important; /* Hidden by default */
        box-sizing: border-box !important;
    }
    
    /* When menu is shown - override d-none and show fully */
    #navbarContent.show,
    #navbarContent.collapse.show,
    #navbarContent.show.d-lg-flex,
    #navbarContent.d-lg-flex.show,
    #navbarContent:not(.d-none).show {
        display: flex !important;
        transform: translateX(0) !important;
        visibility: visible !important;
        opacity: 1 !important;
        width: 100vw !important;
        height: 100vh !important;
    }
    
    /* When menu is hidden - ensure it's off screen */
    #navbarContent.d-none:not(.show) {
        display: none !important;
        transform: translateX(-100%) !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }
    
    /* Prevent body scroll and ensure menu covers everything when open */
    body.menu-open {
        overflow: hidden !important;
        height: 100vh !important;
        position: fixed !important;
        width: 100% !important;
    }
    
    html.menu-open {
        overflow: hidden !important;
        height: 100vh !important;
    }
    
    /* Ensure navbar container stays on top of menu */
    #navbar {
        position: relative !important;
        z-index: 1052 !important;
    }
    
    #navbar > .container {
        position: relative !important;
        z-index: 1053 !important;
        background: #eaf3ff !important;
    }
    
    #navbarContent .navbar-nav {
        flex-direction: column !important;
        width: 100% !important;
        margin-top: 2rem !important;
        display: flex !important;
        visibility: visible !important;
    }
    
    #navbarContent .nav-item {
        width: 100% !important;
        margin-bottom: 0.5rem !important;
        display: block !important;
        visibility: visible !important;
    }
    
    #navbarContent .nav-link {
        color: #ffffff !important;
        padding: 1rem !important;
        width: 100% !important;
        text-align: left !important;
        border-radius: 8px !important;
        display: block !important;
        visibility: visible !important;
    }
    
    #navbarContent .nav-link:hover {
        background: rgba(255,255,255,0.1) !important;
    }
    
    /* Ensure Categories, Home, Announcements are always visible */
    #navbarContent .menu-category,
    #navbarContent .menu-category > ul,
    #navbarContent .menu-category > ul > li {
        display: block !important;
        visibility: visible !important;
        width: 100% !important;
    }
    
    /* Close button in mobile menu */
    #navbarContent .navbar-toggle-header {
        width: 100% !important;
        display: flex !important;
        justify-content: flex-end !important;
        margin-bottom: 1rem !important;
    }
    
    #navbarClose {
        background: rgba(255,255,255,0.1) !important;
        border: 1px solid rgba(255,255,255,0.2) !important;
        border-radius: 6px !important;
        padding: 0.5rem !important;
        color: #ffffff !important;
    }
    
    /* Categories menu on mobile */
    #navbarContent .menu-category {
        width: 100% !important;
    }
    
    #navbarContent .menu-category > ul > li {
        width: 100% !important;
        background: rgba(255,255,255,0.1) !important;
        margin-bottom: 0.5rem !important;
    }
    
    #navbarContent .cat-dropdown-menu {
        position: static !important;
        box-shadow: none !important;
        background: rgba(255,255,255,0.05) !important;
        margin-top: 0.5rem !important;
        border: 1px solid rgba(255,255,255,0.1) !important;
    }
}

@media (max-width: 576px) {
    #navbar .navbar-brand img {
        height: 30px !important;
        max-width: 120px !important;
    }
    
    #navbar .nav-icons-or-start-live .nav-link {
        padding: 0.3rem 0.6rem !important;
        font-size: 0.75rem !important;
    }
    
    #navbar .navbar-toggler {
        padding: 0.2rem 0.4rem !important;
    }
}

</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const navbarToggle = document.getElementById('navbarToggle');
    const navbarContent = document.getElementById('navbarContent');
    const navbarClose = document.getElementById('navbarClose');
    
    if (navbarToggle && navbarContent) {
        // Toggle menu - open if closed, close if open
        navbarToggle.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Check if menu is currently open
            const isOpen = navbarContent.classList.contains('show');
            
            if (isOpen) {
                // Close menu
                navbarContent.classList.remove('show', 'd-lg-flex');
                navbarContent.classList.add('d-none');
                document.body.classList.remove('menu-open');
                document.documentElement.classList.remove('menu-open');
                document.body.style.overflow = '';
            } else {
                // Open menu - logo and login stay visible
                navbarContent.classList.remove('d-none');
                navbarContent.classList.add('show', 'd-lg-flex');
                // Prevent body scroll when menu is open
                document.body.classList.add('menu-open');
                document.documentElement.classList.add('menu-open');
                document.body.style.overflow = 'hidden';
            }
        });
        
        // Close menu
        if (navbarClose) {
            navbarClose.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                // Remove show classes, add d-none back
                navbarContent.classList.remove('show', 'd-lg-flex');
                navbarContent.classList.add('d-none');
                // Restore body scroll
                document.body.classList.remove('menu-open');
                document.documentElement.classList.remove('menu-open');
                document.body.style.overflow = '';
            });
        }
        
        // Helper function to close menu
        function closeMenu() {
            navbarContent.classList.remove('show', 'd-lg-flex');
            navbarContent.classList.add('d-none');
            document.body.classList.remove('menu-open');
            document.documentElement.classList.remove('menu-open');
            document.body.style.overflow = '';
        }
        
        // Close menu when clicking outside (but not on navbar items or toggle button)
        document.addEventListener('click', function(e) {
            if (navbarContent.classList.contains('show')) {
                // Close if clicking outside menu content, but not on navbar items (logo, toggle, login)
                const isToggleButton = e.target.closest('#navbarToggle');
                const isNavbarItem = e.target.closest('#navbar .navbar-brand') || 
                                    e.target.closest('#navbar .nav-icons-or-start-live');
                const isMenuContent = navbarContent.contains(e.target);
                const isCloseButton = e.target.closest('#navbarClose');
                
                // Close if clicking outside menu AND not on navbar items or toggle button, OR if clicking close button
                // Don't close if clicking toggle button (it handles its own toggle)
                if (!isToggleButton && ((!isMenuContent && !isNavbarItem) || isCloseButton)) {
                    closeMenu();
                }
            }
        });
        
        // Close menu on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && navbarContent.classList.contains('show')) {
                closeMenu();
            }
        });
        
        // Close menu when clicking on a nav link (optional - for better UX)
        const navLinks = navbarContent.querySelectorAll('.nav-link');
        navLinks.forEach(function(link) {
            link.addEventListener('click', function() {
                // Only close if it's not a dropdown parent
                if (!this.closest('.menu-category')) {
                    setTimeout(function() {
                        closeMenu();
                    }, 300); // Small delay for better UX
                }
            });
        });
    }
});
</script>
